<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Multiplayer Canvas</title>
    <style>
        body { margin: 0; overflow: hidden; background: #222; font-family: sans-serif; }
        #canvas-container { width: 100vw; height: 100vh; overflow: auto; cursor: crosshair; }
        canvas { background: white; display: block; image-rendering: pixelated; }
        .controls { position: fixed; top: 10px; left: 10px; background: white; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>

<div class="controls">
    <input type="color" id="colorPicker" value="#000000">
    <button onclick="resetZoom()">Reset Zoom</button>
    <p>Zoom: Rolka myszy | Rysuj: Kliknij</p>
</div>

<div id="canvas-container">
    <canvas id="paintCanvas" width="1024" height="2048"></canvas>
</div>

<script>
    const canvas = document.getElementById('paintCanvas');
    const ctx = canvas.getContext('2d');
    const colorPicker = document.getElementById('colorPicker');
    let scale = 1;

    function draw(e) {
        const rect = canvas.getBoundingClientRect();
        const x = Math.floor((e.clientX - rect.left) / scale);
        const y = Math.floor((e.clientY - rect.top) / scale);

        ctx.fillStyle = colorPicker.value;
        ctx.fillRect(x, y, 1, 1);
    }

    canvas.addEventListener('mousedown', (e) => {
        draw(e);
        canvas.addEventListener('mousemove', draw);
    });

    window.addEventListener('mouseup', () => {
        canvas.removeEventListener('mousemove', draw);
    });

    window.addEventListener('wheel', (e) => {
        e.preventDefault();
        const delta = e.deltaY > 0 ? 0.9 : 1.1;
        scale *= delta;
        canvas.style.transform = `scale(${scale})`;
        canvas.style.transformOrigin = "0 0";
    }, { passive: false });

    function resetZoom() {
        scale = 1;
        canvas.style.transform = `scale(1)`;
    }
</script>

</body>
</html>
